{
  "_format": "hh-sol-artifact-1",
  "contractName": "DocumentRegistry",
  "sourceName": "contracts/DocumentRegistry.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "documentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "issuer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "documentHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "documentType",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "DocumentRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "oldDocumentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "newDocumentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "issuer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "DocumentReissued",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "documentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "revoker",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "DocumentRevoked",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "documents",
      "outputs": [
        {
          "internalType": "address",
          "name": "issuer",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "documentHash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "documentType",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "issueDate",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiryDate",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "revoked",
          "type": "bool"
        },
        {
          "internalType": "bytes32",
          "name": "previousVersion",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "exists",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "documentId",
          "type": "bytes32"
        }
      ],
      "name": "getDocument",
      "outputs": [
        {
          "internalType": "address",
          "name": "issuer",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "documentHash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "documentType",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "issueDate",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiryDate",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "revoked",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "documentId",
          "type": "bytes32"
        }
      ],
      "name": "getPreviousVersion",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "documentId",
          "type": "bytes32"
        }
      ],
      "name": "isDocumentValid",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "documentId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "documentHash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "documentType",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "expiryTimestamp",
          "type": "uint256"
        }
      ],
      "name": "registerDocument",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "oldDocumentId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "newDocumentId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "newDocumentHash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "documentType",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "expiryTimestamp",
          "type": "uint256"
        }
      ],
      "name": "reissueDocument",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "documentId",
          "type": "bytes32"
        }
      ],
      "name": "revokeDocument",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610f36806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b10d6b411161005b578063b10d6b4114610117578063cbdbffa61461013c578063d2473dfb1461014f578063e76861f61461016257600080fd5b80632b2805db1461008d57806338a699a4146100bc57806381450e5b146100ef578063952be80d14610102575b600080fd5b6100a061009b366004610aca565b610183565b6040516100b39796959493929190610b29565b60405180910390f35b6100df6100ca366004610aca565b60016020526000908152604090205460ff1681565b60405190151581526020016100b3565b6100df6100fd366004610aca565b610257565b610115610110366004610aca565b6103ad565b005b61012a610125366004610aca565b6104df565b6040516100b396959493929190610b76565b61011561014a366004610c60565b610650565b61011561015d366004610cb8565b610805565b610175610170366004610aca565b610a7f565b6040519081526020016100b3565b6000602081905290815260409020805460018201546002830180546001600160a01b039093169391926101b590610d1a565b80601f01602080910402602001604051908101604052809291908181526020018280546101e190610d1a565b801561022e5780601f106102035761010080835404028352916020019161022e565b820191906000526020600020905b81548152906001019060200180831161021157829003601f168201915b5050506003840154600485015460058601546006909601549495919490935060ff909116915087565b60008181526001602052604081205460ff1661027557506000919050565b600082815260208181526040808320815160e08101835281546001600160a01b0316815260018201549381019390935260028101805491928401916102b990610d1a565b80601f01602080910402602001604051908101604052809291908181526020018280546102e590610d1a565b80156103325780601f1061030757610100808354040283529160200191610332565b820191906000526020600020905b81548152906001019060200180831161031557829003601f168201915b50505091835250506003820154602082015260048201546040820152600582015460ff161515606082015260069091015460809091015260a08101519091501561037f5750600092915050565b600081608001511180156103965750806080015142115b156103a45750600092915050565b50600192915050565b600081815260016020526040902054819060ff166103e65760405162461bcd60e51b81526004016103dd90610d4e565b60405180910390fd5b60008281526020819052604090205482906001600160a01b0316331461041e5760405162461bcd60e51b81526004016103dd90610d85565b60008381526020819052604090206005015460ff16156104805760405162461bcd60e51b815260206004820152601860248201527f446f63756d656e7420616c7265616479207265766f6b6564000000000000000060448201526064016103dd565b60008381526020819052604090819020600501805460ff1916600117905551339084907f58dab06ff4a881de7cd15a590640a447aec068b61e18a8b9b4ae28a8984fe3d6906104d29042815260200190565b60405180910390a3505050565b6000818152600160205260408120548190606090829081908190879060ff1661051a5760405162461bcd60e51b81526004016103dd90610d4e565b600088815260208181526040808320815160e08101835281546001600160a01b03168152600182015493810193909352600281018054919284019161055e90610d1a565b80601f016020809104026020016040519081016040528092919081815260200182805461058a90610d1a565b80156105d75780601f106105ac576101008083540402835291602001916105d7565b820191906000526020600020905b8154815290600101906020018083116105ba57829003601f168201915b5050505050815260200160038201548152602001600482015481526020016005820160009054906101000a900460ff161515151581526020016006820154815250509050806000015181602001518260400151836060015184608001518560a00151975097509750975097509750505091939550919395565b60008481526001602052604090205460ff16156106af5760405162461bcd60e51b815260206004820152601760248201527f446f63756d656e7420616c72656164792065786973747300000000000000000060448201526064016103dd565b826106f45760405162461bcd60e51b8152602060048201526015602482015274092dcecc2d8d2c840c8dec6eadacadce840d0c2e6d605b1b60448201526064016103dd565b6040805160e081018252338152602080820186815282840186815242606085015260808401869052600060a0850181905260c085018190528981529283905293909120825181546001600160a01b0319166001600160a01b03909116178155905160018201559151909190600282019061076e9082610e17565b50606082015160038201556080820151600482015560a082015160058201805491151560ff1992831617905560c09092015160069091015560008581526001602081905260409182902080549093161790915551339085907f2e1e7390ea0cf7a7c546c3533165e000c8582df0c4967bf32f4e0981d91d4578906107f790879087904290610ed7565b60405180910390a350505050565b600085815260016020526040902054859060ff166108355760405162461bcd60e51b81526004016103dd90610d4e565b60008681526020819052604090205486906001600160a01b0316331461086d5760405162461bcd60e51b81526004016103dd90610d85565b60008681526001602052604090205460ff16156108cc5760405162461bcd60e51b815260206004820152601e60248201527f4e657720646f63756d656e7420494420616c726561647920657869737473000060448201526064016103dd565b846109115760405162461bcd60e51b8152602060048201526015602482015274092dcecc2d8d2c840c8dec6eadacadce840d0c2e6d605b1b60448201526064016103dd565b6000878152602081815260408083206005018054600160ff199091168117909155815160e0810183523381528084018a81528184018a8152426060840152608083018a905260a0830187905260c083018e90528c87529486905292909420845181546001600160a01b0319166001600160a01b03909116178155915190820155905160028201906109a29082610e17565b50606082015160038201556080820151600482015560a082015160058201805491151560ff1992831617905560c09092015160069091015560008781526001602081905260409182902080549093161790915551339088907f58dab06ff4a881de7cd15a590640a447aec068b61e18a8b9b4ae28a8984fe3d690610a299042815260200190565b60405180910390a3336001600160a01b031686887f61915f38ce536dda7988fe0e1aaaf6abb50a11b9ccc56bac01853bb3ff2add2542604051610a6e91815260200190565b60405180910390a450505050505050565b600081815260016020526040812054829060ff16610aaf5760405162461bcd60e51b81526004016103dd90610d4e565b60008381526020819052604090206006015491505b50919050565b600060208284031215610adc57600080fd5b5035919050565b6000815180845260005b81811015610b0957602081850181015186830182015201610aed565b506000602082860101526020601f19601f83011685010191505092915050565b60018060a01b038816815286602082015260e060408201526000610b5060e0830188610ae3565b606083019690965250608081019390935290151560a083015260c0909101529392505050565b60018060a01b038716815285602082015260c060408201526000610b9d60c0830187610ae3565b6060830195909552506080810192909252151560a0909101529392505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610be457600080fd5b813567ffffffffffffffff80821115610bff57610bff610bbd565b604051601f8301601f19908116603f01168101908282118183101715610c2757610c27610bbd565b81604052838152866020858801011115610c4057600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060008060808587031215610c7657600080fd5b8435935060208501359250604085013567ffffffffffffffff811115610c9b57600080fd5b610ca787828801610bd3565b949793965093946060013593505050565b600080600080600060a08688031215610cd057600080fd5b853594506020860135935060408601359250606086013567ffffffffffffffff811115610cfc57600080fd5b610d0888828901610bd3565b95989497509295608001359392505050565b600181811c90821680610d2e57607f821691505b602082108103610ac457634e487b7160e01b600052602260045260246000fd5b60208082526017908201527f446f63756d656e7420646f6573206e6f74206578697374000000000000000000604082015260600190565b60208082526023908201527f4f6e6c79206973737565722063616e20706572666f726d20746869732061637460408201526234b7b760e91b606082015260800190565b601f821115610e1257600081815260208120601f850160051c81016020861015610def5750805b601f850160051c820191505b81811015610e0e57828155600101610dfb565b5050505b505050565b815167ffffffffffffffff811115610e3157610e31610bbd565b610e4581610e3f8454610d1a565b84610dc8565b602080601f831160018114610e7a5760008415610e625750858301515b600019600386901b1c1916600185901b178555610e0e565b600085815260208120601f198616915b82811015610ea957888601518255948401946001909101908401610e8a565b5085821015610ec75787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b838152606060208201526000610ef06060830185610ae3565b905082604083015294935050505056fea2646970667358221220ea7a99f082f657309366b547462f9de89dc00eb3bd93899cd0ddc7bc7bdcaed264736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100885760003560e01c8063b10d6b411161005b578063b10d6b4114610117578063cbdbffa61461013c578063d2473dfb1461014f578063e76861f61461016257600080fd5b80632b2805db1461008d57806338a699a4146100bc57806381450e5b146100ef578063952be80d14610102575b600080fd5b6100a061009b366004610aca565b610183565b6040516100b39796959493929190610b29565b60405180910390f35b6100df6100ca366004610aca565b60016020526000908152604090205460ff1681565b60405190151581526020016100b3565b6100df6100fd366004610aca565b610257565b610115610110366004610aca565b6103ad565b005b61012a610125366004610aca565b6104df565b6040516100b396959493929190610b76565b61011561014a366004610c60565b610650565b61011561015d366004610cb8565b610805565b610175610170366004610aca565b610a7f565b6040519081526020016100b3565b6000602081905290815260409020805460018201546002830180546001600160a01b039093169391926101b590610d1a565b80601f01602080910402602001604051908101604052809291908181526020018280546101e190610d1a565b801561022e5780601f106102035761010080835404028352916020019161022e565b820191906000526020600020905b81548152906001019060200180831161021157829003601f168201915b5050506003840154600485015460058601546006909601549495919490935060ff909116915087565b60008181526001602052604081205460ff1661027557506000919050565b600082815260208181526040808320815160e08101835281546001600160a01b0316815260018201549381019390935260028101805491928401916102b990610d1a565b80601f01602080910402602001604051908101604052809291908181526020018280546102e590610d1a565b80156103325780601f1061030757610100808354040283529160200191610332565b820191906000526020600020905b81548152906001019060200180831161031557829003601f168201915b50505091835250506003820154602082015260048201546040820152600582015460ff161515606082015260069091015460809091015260a08101519091501561037f5750600092915050565b600081608001511180156103965750806080015142115b156103a45750600092915050565b50600192915050565b600081815260016020526040902054819060ff166103e65760405162461bcd60e51b81526004016103dd90610d4e565b60405180910390fd5b60008281526020819052604090205482906001600160a01b0316331461041e5760405162461bcd60e51b81526004016103dd90610d85565b60008381526020819052604090206005015460ff16156104805760405162461bcd60e51b815260206004820152601860248201527f446f63756d656e7420616c7265616479207265766f6b6564000000000000000060448201526064016103dd565b60008381526020819052604090819020600501805460ff1916600117905551339084907f58dab06ff4a881de7cd15a590640a447aec068b61e18a8b9b4ae28a8984fe3d6906104d29042815260200190565b60405180910390a3505050565b6000818152600160205260408120548190606090829081908190879060ff1661051a5760405162461bcd60e51b81526004016103dd90610d4e565b600088815260208181526040808320815160e08101835281546001600160a01b03168152600182015493810193909352600281018054919284019161055e90610d1a565b80601f016020809104026020016040519081016040528092919081815260200182805461058a90610d1a565b80156105d75780601f106105ac576101008083540402835291602001916105d7565b820191906000526020600020905b8154815290600101906020018083116105ba57829003601f168201915b5050505050815260200160038201548152602001600482015481526020016005820160009054906101000a900460ff161515151581526020016006820154815250509050806000015181602001518260400151836060015184608001518560a00151975097509750975097509750505091939550919395565b60008481526001602052604090205460ff16156106af5760405162461bcd60e51b815260206004820152601760248201527f446f63756d656e7420616c72656164792065786973747300000000000000000060448201526064016103dd565b826106f45760405162461bcd60e51b8152602060048201526015602482015274092dcecc2d8d2c840c8dec6eadacadce840d0c2e6d605b1b60448201526064016103dd565b6040805160e081018252338152602080820186815282840186815242606085015260808401869052600060a0850181905260c085018190528981529283905293909120825181546001600160a01b0319166001600160a01b03909116178155905160018201559151909190600282019061076e9082610e17565b50606082015160038201556080820151600482015560a082015160058201805491151560ff1992831617905560c09092015160069091015560008581526001602081905260409182902080549093161790915551339085907f2e1e7390ea0cf7a7c546c3533165e000c8582df0c4967bf32f4e0981d91d4578906107f790879087904290610ed7565b60405180910390a350505050565b600085815260016020526040902054859060ff166108355760405162461bcd60e51b81526004016103dd90610d4e565b60008681526020819052604090205486906001600160a01b0316331461086d5760405162461bcd60e51b81526004016103dd90610d85565b60008681526001602052604090205460ff16156108cc5760405162461bcd60e51b815260206004820152601e60248201527f4e657720646f63756d656e7420494420616c726561647920657869737473000060448201526064016103dd565b846109115760405162461bcd60e51b8152602060048201526015602482015274092dcecc2d8d2c840c8dec6eadacadce840d0c2e6d605b1b60448201526064016103dd565b6000878152602081815260408083206005018054600160ff199091168117909155815160e0810183523381528084018a81528184018a8152426060840152608083018a905260a0830187905260c083018e90528c87529486905292909420845181546001600160a01b0319166001600160a01b03909116178155915190820155905160028201906109a29082610e17565b50606082015160038201556080820151600482015560a082015160058201805491151560ff1992831617905560c09092015160069091015560008781526001602081905260409182902080549093161790915551339088907f58dab06ff4a881de7cd15a590640a447aec068b61e18a8b9b4ae28a8984fe3d690610a299042815260200190565b60405180910390a3336001600160a01b031686887f61915f38ce536dda7988fe0e1aaaf6abb50a11b9ccc56bac01853bb3ff2add2542604051610a6e91815260200190565b60405180910390a450505050505050565b600081815260016020526040812054829060ff16610aaf5760405162461bcd60e51b81526004016103dd90610d4e565b60008381526020819052604090206006015491505b50919050565b600060208284031215610adc57600080fd5b5035919050565b6000815180845260005b81811015610b0957602081850181015186830182015201610aed565b506000602082860101526020601f19601f83011685010191505092915050565b60018060a01b038816815286602082015260e060408201526000610b5060e0830188610ae3565b606083019690965250608081019390935290151560a083015260c0909101529392505050565b60018060a01b038716815285602082015260c060408201526000610b9d60c0830187610ae3565b6060830195909552506080810192909252151560a0909101529392505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610be457600080fd5b813567ffffffffffffffff80821115610bff57610bff610bbd565b604051601f8301601f19908116603f01168101908282118183101715610c2757610c27610bbd565b81604052838152866020858801011115610c4057600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060008060808587031215610c7657600080fd5b8435935060208501359250604085013567ffffffffffffffff811115610c9b57600080fd5b610ca787828801610bd3565b949793965093946060013593505050565b600080600080600060a08688031215610cd057600080fd5b853594506020860135935060408601359250606086013567ffffffffffffffff811115610cfc57600080fd5b610d0888828901610bd3565b95989497509295608001359392505050565b600181811c90821680610d2e57607f821691505b602082108103610ac457634e487b7160e01b600052602260045260246000fd5b60208082526017908201527f446f63756d656e7420646f6573206e6f74206578697374000000000000000000604082015260600190565b60208082526023908201527f4f6e6c79206973737565722063616e20706572666f726d20746869732061637460408201526234b7b760e91b606082015260800190565b601f821115610e1257600081815260208120601f850160051c81016020861015610def5750805b601f850160051c820191505b81811015610e0e57828155600101610dfb565b5050505b505050565b815167ffffffffffffffff811115610e3157610e31610bbd565b610e4581610e3f8454610d1a565b84610dc8565b602080601f831160018114610e7a5760008415610e625750858301515b600019600386901b1c1916600185901b178555610e0e565b600085815260208120601f198616915b82811015610ea957888601518255948401946001909101908401610e8a565b5085821015610ec75787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b838152606060208201526000610ef06060830185610ae3565b905082604083015294935050505056fea2646970667358221220ea7a99f082f657309366b547462f9de89dc00eb3bd93899cd0ddc7bc7bdcaed264736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
